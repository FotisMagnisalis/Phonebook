(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var r=n(16),c=n.n(r),o=n(3),i=n(1),s=n(4),a=n.n(s),u="/api/persons",l=function(){return a.a.get(u).then((function(e){return e.data}))},j=function(e){return a.a.post(u,e).then((function(e){return e.data}))},d=function(e){return a.a.delete("".concat(u,"/").concat(e)).then((function(e){return e.data}))},b=function(e,t){return a.a.put("".concat(u,"/").concat(e),t).then((function(e){return e.data}))},f=n(0),h=function(e){var t=e.persons,n=e.setPersons,r=e.setNotif,c=e.setNotifType,s=Object(i.useState)(""),a=Object(o.a)(s,2),u=a[0],l=a[1],d=Object(i.useState)(""),h=Object(o.a)(d,2),m=h[0],O=h[1];return Object(f.jsxs)("header",{children:[Object(f.jsx)("h1",{children:"Add New Person"}),Object(f.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""!==u&&""!==m){var o={name:u.trim(),number:m.trim()};if(t.some((function(e){return e.name===o.name&&window.confirm("".concat(o.name," is already added to the phonebook, replace the old number with the new one ?"))}))){var i=t.find((function(e){return e.name===o.name})).id;b(i,o).then((function(e){n(t.map((function(t){return t.name!==e.name?t:e})))})).catch((function(e){r("Information for ".concat(o.name," was already removed from server")),c("Error"),setTimeout((function(){r(null)}),5e3),n(t.filter((function(e){return e.name!==o.name})))}))}else j(o).then((function(e){n(t.concat(e))})),r("Phonenumber for ".concat(o.name," was added")),c("Added"),setTimeout((function(){r(null)}),5e3);l(""),O("")}else window.alert("Both fields are not filled")},children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Name:"}),Object(f.jsx)("input",{value:u,onChange:function(e){l(e.target.value)}}),Object(f.jsx)("br",{}),Object(f.jsx)("b",{children:"Number:"}),Object(f.jsx)("input",{value:m,onChange:function(e){O(e.target.value)}})]}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{type:"submit",children:"Add"})})]})]})},m=function(e){var t=e.filter,n=e.setNewFilter;return Object(f.jsxs)("header",{children:[Object(f.jsx)("h1",{children:"Phonebook"}),Object(f.jsx)("b",{children:"Filter"}),Object(f.jsx)("input",{value:t,onChange:function(e){n(e.target.value)}})]})},O=function(e){var t=e.person,n=e.deletePerson;return Object(f.jsxs)("div",{children:[Object(f.jsxs)("p",{style:{display:"inline-block",padding:"5px"},children:[" ",t.name,": ",t.number]}),Object(f.jsx)("button",{onClick:n,children:"delete"})]})},p=function(e){var t=e.persons,n=e.filter,r=e.setPersons,c=t.filter((function(e){return e.name.includes(n)}));return Object(f.jsxs)("header",{children:[Object(f.jsx)("h1",{children:"Numbers"}),c.map((function(e){return Object(f.jsx)(O,{person:e,deletePerson:function(){return n=e.id,c=e.name,void(window.confirm("Delete ".concat(c," ?"))&&(d(n),r(t.filter((function(e){return e.id!==n})))));var n,c}},e.name)}))]})},x=function(e){var t=e.type,n=e.message;return null===n?null:Object(f.jsx)("div",{className:t,children:n})},v=function(){var e=Object(i.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(i.useState)(null),s=Object(o.a)(c,2),a=s[0],u=s[1],j=Object(i.useState)(null),d=Object(o.a)(j,2),b=d[0],O=d[1];Object(i.useEffect)((function(){l().then((function(e){r(e)}))}),[]);var v=Object(i.useState)(""),w=Object(o.a)(v,2),g=w[0],N=w[1];return Object(f.jsxs)("div",{children:[Object(f.jsx)(x,{message:a,type:b}),Object(f.jsx)(m,{filter:g,setNewFilter:N}),Object(f.jsx)(h,{persons:n,setPersons:r,setNotif:u,setNotifType:O}),Object(f.jsx)(p,{persons:n,filter:g,setPersons:r})]})};n(40);c.a.render(Object(f.jsx)(v,{}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.42a17975.chunk.js.map